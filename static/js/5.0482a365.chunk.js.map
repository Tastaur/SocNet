{"version":3,"sources":["HOC/withAuthRedirect.jsx","component/Dialogs/Dialogs.module.css","component/Dialogs/Message/Message.module.css","component/Dialogs/DialogsItem/DialogsItem.module.css","component/Dialogs/Message/Message.jsx","component/Dialogs/DialogsItem/DialogsItem.jsx","component/Dialogs/AddMessageFormRedux.jsx","component/Dialogs/Dialogs.jsx","component/Dialogs/DialogsContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Message","className","classes","message","DialogsItem","path","id","dialog","src","activeClassName","active","name","minLength2","minLengthCreator","maxLength100","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","area","placeholder","validate","required","button","Dialogs","messagesPage","messageElement","messagesData","map","m","key","myMessage","dialogsElement","dialogsData","d","dialogs","dialogsItem","messages","change","formData","dispatch","sendNewMessage","newMessageBody","reset","compose"],"mappings":"8MAIIA,EAA6B,SAACC,GAAD,MAAY,CAC3CC,OAAQD,EAAME,KAAKD,SAERE,EAAmB,SAACC,GAAa,IACtCC,EADqC,uKAGvC,OAAKC,KAAKC,MAAMN,OACT,kBAACG,EAAcE,KAAKC,OADI,kBAAC,IAAD,CAAUC,GAAE,eAHJ,GACXC,IAAML,WAStC,OAFqCM,YAAQX,EAARW,CAAoCL,K,oBCd3EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,YAAc,6BAA6B,UAAY,2BAA2B,OAAS,wBAAwB,OAAS,wBAAwB,KAAO,wB,oBCA3PD,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,OAAS,4BAA4B,OAAS,8B,yGCQjDC,EANC,SAACN,GACf,OAAO,6BACL,uBAAGO,UAAWC,IAAQC,SAAUT,EAAMS,W,0BCU3BC,EAXK,SAACV,GACnB,IAAIW,EAAO,YAAcX,EAAMY,GAC/B,OACI,yBAAKL,UAAWC,IAAQK,QACtB,yBAAKC,IAAKd,EAAMc,MAChB,kBAAC,IAAD,CAASC,gBAAiBP,IAAQQ,OAAQf,GAAIU,GAAOX,EAAMiB,Q,kCCH7DC,EAAaC,YAAiB,GAC9BC,EAAeC,YAAiB,KAmBvBC,EAJaC,YAAU,CACpCC,KAAM,wBADoBD,EAdL,SAACvB,GAEtB,OAAO,0BAAMyB,SAAUzB,EAAM0B,cAC3B,kBAACC,EAAA,EAAD,CACIC,UAAWC,IACXZ,KAAM,iBACNV,UAAWC,IAAQsB,KACnBC,YAAY,qBACZC,SAAU,CAACC,IAAUb,EAAaF,KAEtC,4BAAQX,UAAWC,IAAQ0B,QAA3B,oB,QCkBWC,EA7BC,SAACnC,GACf,IAAIP,EAAQO,EAAMoC,aACdC,EAAiB5C,EAAM6C,aAAaC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAS/B,QAAS+B,EAAE/B,QAASgC,IAAKD,EAAE5B,GAAIA,GAAI4B,EAAE5B,GAAI8B,UAAWF,EAAEE,eAC5GC,EAAiBlD,EAAMmD,YAAYL,KAAI,SAAAM,GAAC,OAAI,kBAAC,EAAD,CAAa5B,KAAM4B,EAAE5B,KAAMwB,IAAKI,EAAEjC,GAAIA,GAAIiC,EAAEjC,GAAIE,IAAK+B,EAAE/B,SAOvG,OACI,yBAAKP,UAAWC,IAAQsC,SACtB,yBAAKvC,UAAWC,IAAQuC,aACrBJ,GAEH,yBAAKpC,UAAWC,IAAQwC,UACrBX,EACD,yBAAK9B,UAAWC,IAAQyC,QACtB,kBAAC,EAAD,CAAqBxB,SAbX,SAACyB,EAAUC,GAC7BnD,EAAMoD,eAAeF,EAASG,gBAC9BF,EAASG,YAAM,0BAYclB,aAAcpC,EAAMoC,mB,wBCbtCmB,sBACXpD,aAPkB,SAACV,GACrB,MAAO,CACL2C,aAAc3C,EAAM2C,gBAKK,CAAEgB,qBAC3BxD,IAFW2D,CAGbpB","file":"static/js/5.0482a365.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\nexport const withAuthRedirect = (Component)=>{\r\n  class RedirectComponent extends React.Component{\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={`/login`}/>\r\n      return <Component {...this.props}/>\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedAuthRedirectComponent\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2uhzo\",\"dialogsItem\":\"Dialogs_dialogsItem__1a8ue\",\"friendsTalk\":\"Dialogs_friendsTalk__3WuQ-\",\"myMessage\":\"Dialogs_myMessage__bGztG\",\"button\":\"Dialogs_button__2YYQw\",\"change\":\"Dialogs_change__2uUkv\",\"area\":\"Dialogs_area__2WJTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__3cKkm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogsItem_dialog__2hbjl\",\"active\":\"DialogsItem_active__8zwon\"};","import React from 'react'\r\nimport classes from './Message.module.css'\r\n\r\nconst Message = (props) => {\r\n  return <div>\r\n    <p className={classes.message}>{props.message}</p>\r\n  </div>\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport classes from './DialogsItem.module.css'\r\nimport {NavLink, Route} from 'react-router-dom'\r\n\r\nconst DialogsItem = (props) => {\r\n  let path = '/dialogs/' + props.id\r\n  return (\r\n      <div className={classes.dialog}>\r\n        <img src={props.src} />\r\n        <NavLink activeClassName={classes.active} to={path}>{props.name}</NavLink>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nexport default DialogsItem\r\n","import React from 'react'\r\nimport classes from './Dialogs.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {maxLengthCreator, minLengthCreator, required} from '../../utils/validators/validator'\r\nimport {Textarea} from '../common/Forms/FormsControl'\r\n\r\nconst minLength2 = minLengthCreator(2)\r\nconst maxLength100 = maxLengthCreator(100)\r\nconst AddMessageForm = (props) => {\r\n\r\n  return <form onSubmit={props.handleSubmit}>\r\n    <Field\r\n        component={Textarea}\r\n        name={'newMessageBody'}\r\n        className={classes.area}\r\n        placeholder='Enter your message'\r\n        validate={[required, maxLength100,minLength2]}\r\n    />\r\n    <button className={classes.button}>Send message</button>\r\n  </form>\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({\r\n  form: 'dialogAddMessageForm',\r\n})\r\n(AddMessageForm)\r\nexport default AddMessageFormRedux\r\n","import React from 'react'\r\nimport classes from './Dialogs.module.css'\r\nimport Message from './Message/Message'\r\nimport DialogsItem from './DialogsItem/DialogsItem'\r\nimport AddMessageFormRedux from './AddMessageFormRedux'\r\nimport {reset} from 'redux-form'\r\n\r\nconst Dialogs = (props) => {\r\n  let state = props.messagesPage\r\n  let messageElement = state.messagesData.map(m => <Message message={m.message} key={m.id} id={m.id} myMessage={m.myMessage}/>)\r\n  let dialogsElement = state.dialogsData.map(d => <DialogsItem name={d.name} key={d.id} id={d.id} src={d.src}/>)\r\n\r\n  let addNewMessage = (formData, dispatch) => {\r\n    props.sendNewMessage(formData.newMessageBody)\r\n    dispatch(reset('dialogAddMessageForm'))\r\n  }\r\n\r\n  return (\r\n      <div className={classes.dialogs}>\r\n        <div className={classes.dialogsItem}>\r\n          {dialogsElement}\r\n        </div>\r\n        <div className={classes.messages}>\r\n          {messageElement}\r\n          <div className={classes.change}>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}\r\n                                 messagesPage={props.messagesPage}\r\n\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Dialogs\r\n","import React from 'react'\r\nimport {sendNewMessage} from '../../redux/dialogReducer'\r\nimport Dialogs from './Dialogs'\r\nimport {connect} from 'react-redux'\r\nimport {withAuthRedirect} from '../../HOC/withAuthRedirect'\r\nimport {compose} from 'redux'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    messagesPage: state.messagesPage,\r\n  }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { sendNewMessage}),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n"],"sourceRoot":""}