{"version":3,"sources":["HOC/withAuthRedirect.jsx","assets/images/thor.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","component/Profile/ProfileInfo/ProfileInfo.module.css","component/Profile/MyPosts/MyPosts.module.css","component/Profile/Profile.module.css","assets/images/findJob.svg","assets/images/facebook.svg","assets/images/instagram.svg","assets/images/vk.svg","assets/images/twitter.svg","assets/images/github.svg","component/Profile/MyPosts/Post/Post.module.css","component/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","component/Profile/ProfileInfo/ProfileInfo.jsx","component/Profile/MyPosts/Post/Post.jsx","component/Profile/MyPosts/AddNewPostFormRedux.jsx","component/Profile/MyPosts/MyPosts.jsx","component/Profile/MyPosts/MyPostsContainer.jsx","component/Profile/Profile.jsx","component/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","className","classes","profileStatus","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","profile","Preloader","profileInfo","avatar","src","photos","large","defaultAvatar","isOwner","fileForm","selectButton","type","upload","target","files","savePhoto","fullName","descriptionBlock","aboutMe","lookingForAJob","find","jobPic","alt","jobStatus","lookingForAJobDescription","contactContainer","contacts","facebook","contactItem","facebookIcon","contactImg","instagram","instagramIcon","vk","vkIcon","twitter","twitterIcon","github","githubIcon","Post","item","message","likeCount","maxLength120","maxLengthCreator","minLength2","minLengthCreator","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","button","MyPosts","postsElement","posts","map","post","creater","key","id","postsBlock","dispatch","addPost","newPostText","reset","compose","profilePage","Profile","MyPostsContainer","ProfileContainer","refreshProfile","userId","match","params","authorizedUserId","history","getUserProfile","getUserStatus","prevProps","prevState","snapshot","withRouter"],"mappings":"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","file":"static/js/3.a5e3733c.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\nexport const withAuthRedirect = (Component)=>{\r\n  class RedirectComponent extends React.Component{\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={`/login`}/>\r\n      return <Component {...this.props}/>\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedAuthRedirectComponent\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/thor.9cbe8a2d.png\";","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"jobPic\":\"ProfileInfo_jobPic__2yTvY\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__1L3xV\",\"avatar\":\"ProfileInfo_avatar__dImC7\",\"contactImg\":\"ProfileInfo_contactImg__20FYo\",\"profileInfo\":\"ProfileInfo_profileInfo__3GTjB\",\"contactItem\":\"ProfileInfo_contactItem__2wXhJ\",\"jobStatus\":\"ProfileInfo_jobStatus__3-stL\",\"contactContainer\":\"ProfileInfo_contactContainer__hZE2h\",\"profileStatus\":\"ProfileInfo_profileStatus__2uMN1\",\"fileForm\":\"ProfileInfo_fileForm__2R_M6\",\"selectButton\":\"ProfileInfo_selectButton__30P68\",\"upload\":\"ProfileInfo_upload__xQnQo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPosts_item__2cppk\",\"bostsBlock\":\"MyPosts_bostsBlock__3DScx\",\"form\":\"MyPosts_form__1Apaw\",\"button\":\"MyPosts_button___LsWy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainImage\":\"Profile_mainImage__1kFcv\",\"profijobPicle\":\"Profile_profijobPicle__1kArB\"};","module.exports = __webpack_public_path__ + \"static/media/findJob.bc05f5f0.svg\";","module.exports = __webpack_public_path__ + \"static/media/facebook.9bb8531d.svg\";","module.exports = __webpack_public_path__ + \"static/media/instagram.ebccca51.svg\";","module.exports = __webpack_public_path__ + \"static/media/vk.4e336699.svg\";","module.exports = __webpack_public_path__ + \"static/media/twitter.d546ce77.svg\";","module.exports = __webpack_public_path__ + \"static/media/github.192a6620.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__APdI6\"};","import React, {useEffect, useState} from 'react'\r\nimport classes from './ProfileInfo.module.css'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [status, setStatus] = useState(props.status)\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  let activateEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n\r\n  let deactivateEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatus(status)\r\n  }\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n  return (\r\n      <div>\r\n        {!editMode &&\r\n        <div>\r\n          <span className={classes.profileStatus} onDoubleClick={activateEditMode}>{props.status || `No status`} </span>\r\n        </div>\r\n        }\r\n        {editMode &&\r\n        <div>\r\n          <input value={status} onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode}/>\r\n        </div>\r\n        }\r\n      </div>\r\n  )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks\r\n","import React from 'react'\r\nimport classes from './ProfileInfo.module.css'\r\nimport Preloader from '../../common/preloader/Preloader'\r\nimport find from '../../../assets/images/findJob.svg'\r\nimport facebookIcon from '../../../assets/images/facebook.svg'\r\nimport instagramIcon from '../../../assets/images/instagram.svg'\r\nimport vkIcon from '../../../assets/images/vk.svg'\r\nimport twitterIcon from '../../../assets/images/twitter.svg'\r\nimport githubIcon from '../../../assets/images/github.svg'\r\nimport defaultAvatar from '../../../assets/images/thor.png'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader/>\r\n  }\r\n\r\n  const onPhotoSelected = (e) =>{\r\n    if(e.target.files.length){\r\n      props.savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n  return <div className={classes.profileInfo}>\r\n    <div>\r\n      <div><img className={classes.avatar} src={props.profile.photos.large || defaultAvatar}/></div>\r\n\r\n\r\n      {props.isOwner && <div className={classes.fileForm}>\r\n        <div className={classes.selectButton}>Change avatar</div>\r\n        <input type={'file'} className={classes.upload} onChange={onPhotoSelected}/>\r\n      </div>}\r\n\r\n\r\n      <div>{props.profile.fullName}</div>\r\n      <div className={classes.descriptionBlock}> {props.profile.aboutMe}</div>\r\n      {props.profile.lookingForAJob ? <img src={find} className={classes.jobPic} alt={'i need job'} /> : null}\r\n      <div className={classes.jobStatus}>{props.profile.lookingForAJobDescription}</div>\r\n      <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n    </div>\r\n\r\n\r\n    {/*some shitCode*/}\r\n    <div className={classes.contactContainer}>\r\n\r\n      {props.profile.contacts.facebook != null || props.profile.contacts.facebook != undefined ?\r\n          <div className={classes.contactItem}><img src={facebookIcon} className={classes.contactImg}/>\r\n            <span>{props.profile.contacts.facebook}</span>\r\n          </div> : null}\r\n\r\n      {props.profile.contacts.instagram != null || props.profile.contacts.instagram != undefined ?\r\n          <div className={classes.contactItem}><img src={instagramIcon} className={classes.contactImg}/>\r\n            <span>{props.profile.contacts.instagram}</span>\r\n          </div> : null}\r\n\r\n      {props.profile.contacts.vk != null || props.profile.contacts.vk != undefined ?\r\n          <div className={classes.contactItem}><img src={vkIcon} className={classes.contactImg}/>\r\n            <span>{props.profile.contacts.vk}</span></div> : null}\r\n\r\n      {props.profile.contacts.twitter != null || props.profile.contacts.twitter != undefined ?\r\n          <div className={classes.contactItem}><img src={twitterIcon} className={classes.contactImg}/>\r\n            <span>{props.profile.contacts.twitter}</span>\r\n          </div> : null}\r\n\r\n      {props.profile.contacts.github != null || props.profile.contacts.github != undefined ?\r\n          <div className={classes.contactItem}><img src={githubIcon} className={classes.contactImg}/>\r\n            <span>{props.profile.contacts.github}</span></div> : null}\r\n\r\n    </div>\r\n  </div>\r\n\r\n\r\n}\r\n\r\nexport default ProfileInfo\r\n","import React from 'react'\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n  return <div className={classes.item}>\r\n    <div>\r\n      <img src='https://i.pinimg.com/736x/1b/44/4d/1b444dae6aa30d47c5a46ca0851eaa13--urban-art-auction.jpg'/>\r\n      <span>\r\n    {props.message}\r\n      </span>\r\n    </div>\r\n    <div>\r\n      <span>Like ({props.likeCount})</span>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {maxLengthCreator, minLengthCreator, required} from '../../../utils/validators/validator'\r\nimport classes from './MyPosts.module.css'\r\nimport  {Textarea} from '../../common/Forms/FormsControl'\r\n\r\nconst maxLength120 = maxLengthCreator(120)\r\nconst minLength2 = minLengthCreator(2)\r\nlet AddNewPostForm = (props) => {\r\n  return <form onSubmit={props.handleSubmit} className={classes.form} >\r\n    <Field component={Textarea}\r\n           name={'newPostText'}\r\n           placeholder='Enter your post'\r\n           validate={[required, maxLength120, minLength2]}\r\n    />\r\n    <button className={classes.button}>Add posts</button>\r\n  </form>\r\n}\r\n\r\nlet AddNewPostFormRedux = reduxForm({\r\n  form: 'newPostBody',\r\n})(AddNewPostForm)\r\n\r\n\r\nexport default AddNewPostFormRedux\r\n","import React from 'react'\r\nimport classes from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport AddNewPostFormRedux from './AddNewPostFormRedux'\r\nimport {reset} from 'redux-form'\r\n\r\n\r\nfunction MyPosts(props) {\r\n  let postsElement = props.posts\r\n      .map(post => <Post likeCount={post.likeCount} message={post.message} creater={post.creater} key={post.id} id={post.id}/>)\r\n  \r\n  let addPost = (value, dispatch) => {\r\n    props.addPost(value.newPostText)\r\n    dispatch(reset('newPostBody'))\r\n  }\r\n\r\n  return <div className={classes.postsBlock}>\r\n    <h3>My posts</h3>\r\n    <div>\r\n      <AddNewPostFormRedux onSubmit={addPost}/>\r\n    </div>\r\n    <div className={classes.posts}>\r\n      {postsElement}\r\n    </div>\r\n  </div>\r\n}\r\n\r\n\r\nexport default MyPosts\r\n","import React from 'react'\r\nimport {addPost} from '../../../redux/profileReducer'\r\nimport MyPosts from './MyPosts'\r\nimport {connect} from 'react-redux'\r\nimport {compose} from 'redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default compose(connect(mapStateToProps, {addPost}))(MyPosts)\r\n","import React from 'react'\r\nimport classes from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\n\r\nconst Profile = (props) => {\r\n\r\n\r\n  return <div className={classes.profile}>\r\n    <ProfileInfo  isOwner={props.isOwner} profile={props.profile} savePhoto={props.savePhoto} status={props.status} updateStatus={props.updateStatus}/>\r\n    <MyPostsContainer/>\r\n  </div>\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport Profile from './Profile'\r\nimport {getUserProfile, getUserStatus, savePhoto, updateStatus} from '../../redux/profileReducer'\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {withAuthRedirect} from '../../HOC/withAuthRedirect'\r\nimport {compose} from 'redux'\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  refreshProfile = () => {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId\r\n      if (!userId) {\r\n        this.props.history.push('/login')\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId)\r\n    this.props.getUserStatus(userId)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n      this.refreshProfile()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Profile {...this.props}\r\n                 profile={this.props.profile}\r\n                 status={this.props.status}\r\n                 updateStatus={this.props.updateStatus}\r\n                 isOwner={!this.props.match.params.userId}\r\n                 savePhoto={this.props.savePhoto}\r\n        />\r\n    )\r\n  }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n})\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateStatus, savePhoto}),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(ProfileContainer)\r\n\r\n"],"sourceRoot":""}